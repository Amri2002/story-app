import{X as d,j as e,r as c,x as a,S as l}from"./app-DIXUMUAO.js";import{c as i,D as s,A as x}from"./AuthenticatedLayout-DEedlCJX.js";import{S as g}from"./StoryUpvoteDownvote-QlfKc1Uy.js";import"./ApplicationLogo-Bhu739VV.js";import"./transition-sSQi6ASj.js";function h({story:r}){const t=d().props.auth.user;if(i(t,"manage_stories"))return e.jsxs(s,{children:[e.jsx(s.Trigger,{children:e.jsx("span",{className:"inline-flex rounded-md",children:e.jsx("button",{type:"button",className:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none dark:bg-gray-800 dark:text-gray-400 dark:hover:text-gray-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})})})})}),e.jsxs(s.Content,{children:[e.jsx(s.Link,{href:route("story.edit",r.id),children:"Edit Story"}),e.jsx(s.Link,{href:route("story.destroy",r.id),method:"delete",as:"button",children:"Delete Story"})]})]})}function m({story:r}){const[t,n]=c.useState(!1),o=()=>{n(!t)};return e.jsx("div",{className:"mb-4 overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsxs("div",{className:"p-10 text-gray-900 dark:text-gray-100 flex gap-8 ",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl mb-2",children:e.jsx(a,{href:route("story.show",r.id),children:r.name})}),r.photo&&e.jsx("img",{src:r.photo,alt:r.name,className:"mt-2 max-w-xs h-auto"}),r.description.length>200&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t?r.description:`${r.description.slice(0,200)}...`}),e.jsx("button",{onClick:o,className:"text-amber-500 hover:underline",children:t?"Read less":"Read more"})]}),r.description.length<=200&&e.jsx("p",{children:r.description}),e.jsx("div",{className:"py-4",children:e.jsx(g,{story:r})}),e.jsx("div",{className:"py-4",children:e.jsx(a,{href:route("story.show",r),className:`inline-flex gap-2 py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 
                            focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 
                            focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 
                            dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700`,children:"Comments"})})]}),e.jsx("div",{children:e.jsx(h,{story:r})})]})})}function y({auth:r,stories:t}){return e.jsxs(x,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Stories"}),children:[e.jsx(l,{title:"Stories"}),i(r.user,"manage_stories")&&e.jsx("div",{className:"mb-8",children:e.jsx(a,{href:route("story.create"),className:`inline-flex items-center rounded-md border border-transparent bg-gray-800 
                            px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-gray-700 
                            focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 dark:bg-gray-200 
                            dark:text-gray-800 dark:hover:bg-white dark:focus:bg-white dark:focus:ring-offset-gray-800 dark:active:bg-gray-300`,children:"Create New Story"})}),t.data.map(n=>e.jsx(m,{story:n},n.id))]})}export{y as default};
